{"version":3,"sources":["helper.js","components/MenuList.js","components/NotFound.js","data.js","components/Search.js","index.js"],"names":["throttled","delay","fn","lastCall","now","Date","getTime","debounced","timerId","args","clearTimeout","setTimeout","hilite","text","search","regex","RegExp","__html","replace","match","checkStringMatch","dataObj","searchTerm","JSON","stringify","Object","values","toLowerCase","indexOf","handleKeyDown","event","cursor","this","state","result","modifiedDataList","keyCode","setState","prevState","length","isInViewport","elem","offset","top","getBoundingClientRect","height","wHeight","window","innerHeight","MenuList","onHover","props","onCursorChange","currentTarget","id","tHover","componentDidUpdate","element","document","getElementById","scrollIntoView","behavior","renderMenu","user","index","className","key","onMouseEnter","dangerouslySetInnerHTML","name","renderItemsElement","address","pincode","render","userList","map","itemsStr","items","forEach","each","type","React","Component","NotFound","data","Search","dataList","hideAll","searchRef","createRef","current","value","filter","dSearch","cursorPosition","parseInt","renderMenuList","ref","onInput","autoFocus","onKeyDown","bind","querySelector"],"mappings":"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","file":"static/js/main.7539c9fc.chunk.js","sourcesContent":["export function throttled(delay, fn) {\n  let lastCall = 0;\n  return function(...args) {\n    const now = new Date().getTime();\n    if (now - lastCall < delay) {\n      return;\n    }\n    lastCall = now;\n    return fn(...args);\n  };\n}\n\nexport function debounced(delay, fn) {\n  let timerId;\n  return function(...args) {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n    timerId = setTimeout(() => {\n      fn(...args);\n      timerId = null;\n    }, delay);\n  };\n}\n\nexport function hilite(text, search) {\n  const regex = new RegExp(search, \"gi\");\n  text = text.replace(regex, match => {\n    return `<span class=\"text-primary\">${match}</span>`;\n  });\n  return { __html: text };\n}\n\nexport function checkStringMatch(dataObj, searchTerm) {\n  const valueStr = JSON.stringify(Object.values(dataObj)).toLowerCase();\n  return valueStr.indexOf(searchTerm.toLowerCase()) > -1;\n}\n\nexport function handleKeyDown(event) {\n  const { cursor } = this.state;\n  const result = this.state.modifiedDataList;\n  // arrow up/down button should select next/previous list element\n  if (event.keyCode === 38 && cursor > 0) {\n    this.setState(prevState => ({ cursor: prevState.cursor - 1 }));\n  } else if (event.keyCode === 40 && cursor < result.length - 1) {\n    this.setState(prevState => ({ cursor: prevState.cursor + 1 }));\n  }\n}\n\nexport function isInViewport(elem, offset = 0) {\n  if (!elem) return false;\n  const top = elem.getBoundingClientRect().top;\n  const height = elem.getBoundingClientRect().height;\n  // innerHeight divided by 2, since our menu is only 50%\n  const wHeight = window.innerHeight / 2;\n  return (\n    top + offset >= 0 && top - offset <= wHeight && top + height <= wHeight\n  );\n}\n","import React from \"react\";\nimport { hilite, throttled, checkStringMatch, isInViewport } from \"../helper\";\n\nexport class MenuList extends React.Component {\n  onHover = event => {\n    this.props.onCursorChange(event.currentTarget.id);\n  };\n  tHover = () => throttled(200, this.onHover);\n\n  componentDidUpdate = () => {\n    const element = document.getElementById(this.props.cursor);\n    if (!isInViewport(element, 45))\n      element.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  renderMenu = (user, searchTerm, index) => {\n    return (\n      <li\n        className={this.props.cursor === index ? \"card selected\" : \"card\"}\n        key={user.id}\n        id={index}\n        onMouseEnter={this.tHover()}\n      >\n        <div className=\"card-body pb-0 pt-0\">\n          <h5\n            className=\"card-title m-0\"\n            dangerouslySetInnerHTML={hilite(user.id, searchTerm)}\n          ></h5>\n          <em\n            className=\"card-text\"\n            dangerouslySetInnerHTML={hilite(user.name, searchTerm)}\n          ></em>\n          {(() => this.renderItemsElement(user, searchTerm))()}\n          <p\n            className=\"m-0\"\n            dangerouslySetInnerHTML={hilite(user.address, searchTerm)}\n          ></p>\n          <p dangerouslySetInnerHTML={hilite(user.pincode, searchTerm)}></p>\n        </div>\n      </li>\n    );\n  };\n\n  renderItemsElement(user, searchTerm) {\n    let itemsStr = \"\";\n    user.items.forEach(each => {\n      if (checkStringMatch({ each: each }, searchTerm)) {\n        itemsStr += '\"' + hilite(each, searchTerm).__html + '\", ';\n      }\n    });\n\n    if (itemsStr) {\n      itemsStr = itemsStr.replace(/,$/, \"\") + \" found in items.\";\n      return (\n        <ul className=\"border-top-btm\" type=\"disc\">\n          <li dangerouslySetInnerHTML={{ __html: itemsStr }}></li>\n        </ul>\n      );\n    }\n  }\n\n  render = () => {\n    return (\n      <ul className=\"dropdown-menu show col-md-12 p-0\">\n        {this.props.userList.map((user, index) =>\n          this.renderMenu(user, this.props.searchTerm, index)\n        )}\n      </ul>\n    );\n  };\n}\n","import React from \"react\";\n\nexport class NotFound extends React.Component {\n  render() {\n    return (\n      <div className=\"card\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title m-0\">Not found in list.</h5>\n        </div>\n      </div>\n    );\n  }\n}\n","export const data = [\n  {\n    id: \"123-s2-546\",\n    name: \"John Jacobs\",\n    items: [\"bucket\", \"bottle\"],\n    address: \"1st Cross, 9th Main, abc Apartment\",\n    pincode: \"5xx012\"\n  },\n  {\n    id: \"123-s3-146\",\n    name: \"David Mire\",\n    items: [\"Bedroom Set\", \"Kitchen Set\"],\n    address: \"2nd Cross, BTI Apartment\",\n    pincode: \"4xx012\"\n  },\n  {\n    id: \"223-a1-234\",\n    name: \"Soloman Marshall\",\n    items: [\"bottle\"],\n    address: \"Riverbed Apartment\",\n    pincode: \"4xx032\"\n  },\n  {\n    id: \"121-s2-111\",\n    name: \"Ricky Beno\",\n    items: [\"Mobile Set\"],\n    address: \"Sunshine City\",\n    pincode: \"5xx072\"\n  },\n  {\n    id: \"123-p2-246\",\n    name: \"Sikander Singh\",\n    items: [\"Air Conditioner\"],\n    address: \"Riverbed Apartment\",\n    pincode: \"4xx032\"\n  },\n  {\n    id: \"b23-s2-321\",\n    name: \"Ross Wheeler\",\n    items: [\"Mobile\"],\n    address: \"1st Cross, 9th Main, abc Apartement\",\n    pincode: \"5xx012\"\n  },\n  {\n    id: \"113-n2-563\",\n    name: \"Ben Bish\",\n    items: [\"Kitchen Set\", \"Chair\"],\n    address: \"Sunshine City\",\n    pincode: \"5xx072\"\n  },\n  {\n    id: \"323-s2-112\",\n    name: \"John Michael\",\n    items: [\"Refrigerator\"],\n    address: \"1st Cross, 9th Main, abc Apartement\",\n    pincode: \"5xx012\"\n  },\n  {\n    id: \"abc-34-122\",\n    name: \"Jason Jordan\",\n    items: [\"Mobile\"],\n    address: \"Riverbed Apartment\",\n    pincode: \"4xx032\"\n  }\n];\n","import React from \"react\";\nimport { debounced, checkStringMatch, handleKeyDown } from \"../helper\";\nimport { MenuList } from \"./MenuList\";\nimport { NotFound } from \"./NotFound\";\nimport { data } from \"../data\";\n\nexport class Search extends React.Component {\n  state = {\n    dataList: [...data],\n    modifiedDataList: [],\n    hideAll: true,\n    cursor: 0\n  };\n  searchRef = React.createRef();\n\n  search = () => {\n    if (\n      this.searchRef &&\n      this.searchRef.current &&\n      this.searchRef.current.value\n    ) {\n      let dataList = [...this.state.dataList];\n      let searchTerm = this.searchRef.current.value;\n      dataList = dataList.filter(each => checkStringMatch(each, searchTerm));\n      this.setState({ modifiedDataList: dataList, hideAll: false, cursor: 0 });\n    } else {\n      this.setState({ hideAll: true });\n    }\n  };\n\n  dSearch = () => debounced(200, this.search);\n\n  onCursorChange = cursorPosition => {\n    this.setState({ cursor: parseInt(cursorPosition) });\n  };\n\n  renderMenuList = () => {\n    if (!this.state.hideAll) {\n      return (\n        <div className=\"row justify-content-md-center\">\n          <div className=\"col-md-6 p-0 menu-list\">\n            {(() => {\n              if (this.state.modifiedDataList.length) {\n                return (\n                  <MenuList\n                    searchTerm={this.searchRef.current.value}\n                    userList={this.state.modifiedDataList}\n                    cursor={this.state.cursor}\n                    onCursorChange={this.onCursorChange}\n                  />\n                );\n              } else {\n                return <NotFound />;\n              }\n            })()}\n          </div>\n        </div>\n      );\n    }\n  };\n\n  render = () => {\n    return (\n      <>\n        <div className=\"row justify-content-md-center\">\n          <div className=\"col-md-6 p-0\">\n            <div className=\"search-icon\"></div>\n            <input\n              className=\"col-md-12 pl-4\"\n              type=\"text\"\n              name=\"searchText\"\n              ref={this.searchRef}\n              onInput={this.dSearch()}\n              autoFocus\n              onKeyDown={handleKeyDown.bind(this)}\n            />\n          </div>\n        </div>\n        {(() => this.renderMenuList())()}\n      </>\n    );\n  };\n}\n","// let's go!\n\n// let's go!\nimport React from \"react\";\nimport { render } from \"react-dom\";\n\nimport \"./css/style.css\";\nimport { Search } from \"./components/Search\";\n\nrender(<Search />, document.querySelector(\"#main\"));\n"],"sourceRoot":""}